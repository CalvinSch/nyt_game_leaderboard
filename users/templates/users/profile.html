{% extends "users/layout.html" %}

{% block body %}

{% if messages %}
    <div id="message-container">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
                <button type="button" class="close" onclick="closeAlert(this)">&times;</button>
            </div>
        {% endfor %}
    </div>
{% endif %}

<script>
    function closeAlert(element) {
        element.parentElement.style.display = 'none';
    }
</script>

<style>
    .alert {
        padding: 20px;
        background-color: #f44336; /* Red */
        color: white;
        margin-bottom: 15px;
        position: relative;
        cursor: pointer;
        transition: opacity 0.6s; /* 600ms to fade out */
    }

    .alert.success {background-color: #4CAF50;} /* Green for success messages */
    .alert.info {background-color: #2196F3;} /* Blue for info messages */
    .alert.warning {background-color: #ff9800;} /* Orange for warning messages */

    .close {
        margin-left: 15px;
        color: white;
        font-weight: bold;
        float: right;
        font-size: 22px;
        line-height: 20px;
        cursor: pointer;
        transition: 0.3s;
    }

    .close:hover {
        color: black;
    }
</style>



<title>Hello!</title>
<h1>{{ user.username }}, this is your profile</h1>

<br>
<!-- Button to go to list_users page -->
<a href="{% url 'users:list_users' %}" class="btn">Add New Users Here!</a>

<br>
<h2>Following List</h2>
<ul>
    {% for friend_profile in friends_profiles_following %}
        <li>
            Username: 
            <a href="{% url 'users:user_profile' username=friend_profile.user.username %}" class="btn">{{ friend_profile.user.username }}</a>
            <br>
            <!-- Display more friend information here -->
        </li>
    {% empty %}
        <li>No friends found.</li>
    {% endfor %}
</ul>

<br>
<h2>Followers List</h2>
<ul>
    {% for friend_profile in friends_profiles_followers %}
        <li>
            Username: 
            <a href="{% url 'users:user_profile' username=friend_profile.user.username %}" class="btn">{{ friend_profile.user.username }}</a>
            <br>
            <!-- Display more friend information here -->
        </li>
    {% empty %}
        <li>No friends found.</li>
    {% endfor %}
</ul>

<!-- Display other user information here -->
{% endblock %}
