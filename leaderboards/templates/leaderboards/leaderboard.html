<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Leaderboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
<div class ="container mt-3">
</div>
{% extends "users/layout.html" %}
{% block body %}
<div class="container mt-3">
    {% load static %}
    <!-- This is working properly on local test, in a fresh browser with cache cleared -->
    <div>
        <!-- <img src="{% static "img/leaderboard_logo.png" %}" alt="Leaderboard Logo" style="width: 40%;" class="img-fluid"> -->
        <div class="d-flex justify-content-between align-items-center" style="margin-bottom: 20px;">
            <img src="{% static 'img/leaderboard_logo.png' %}" alt="Leaderboard Logo" style="width: 40%;" class="img-fluid">
            <button id="emojiToggle" class="btn btn-outline-secondary" onclick="toggleEmoji()">
                <span id="emoji">üåê Global</span>
            </button>
        </div>
    
        <script>
            function toggleEmoji() {
                var emoji = document.getElementById("emoji");
                if (emoji.textContent === "üåê Global") {
                    emoji.textContent = "üë• Following"; // Change to group emoji
                } else {
                    emoji.textContent = "üåê Global"; // Change back to globe emoji
                }
            }
        </script>
              
    </div>
    <!-- <a href="submit_score">Submit Score</a> --> 
    <table class="table mt-3">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col" style="padding-right: 0.1rem">Name</th>
                <th scope="col">Puzzle</th>
                <th scope="col" style="padding-right: 0.2rem">Guesses</th>
                <th scope="col">Rating</th>
                <th scope="col">Date</th>
            </tr>
        </thead>
        <tbody>
            {% for score in leaderboard_scores %}
            <!-- if score.ayername in player.friends -->
                <tr>
                    <th scope="row" style="padding-right: 0rem">{{ forloop.counter }}</th>
                    {% if score.player_name != '' %}
                    <td style="max-width: 90px;"><div style="overflow: scroll; width: 100%">{{ score.player_name }}</div></td>
                    {% else %}
                    <td>Guest</td>
                    {% endif %}
                    <td>{{ score.puzzle_number }}</td>
                    <td style="min-width: 120px;">{{ score.score_details | linebreaksbr }}</td>
                    <td>{{ score.score_value }}</td>
                    <td>{{ score.date|date:"N j, Y P" }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% include "shared/footer.html" %}
{% endblock %}
